
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Adaptive Cards for Blazor</title>
    <meta name="description" content="Adaptive Cards for Blazor: Documentation">

    <link href="/assets/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/docs.min.css" rel="stylesheet">
    <link href="/assets/prism.css" rel="stylesheet">
    <link href="/assets/simpleLightbox.min.css" rel="stylesheet">
    <link href="/assets/theme.css" rel="stylesheet">

    <link rel="icon" type="image/png" href="/assets/favicon.png" />
</head>
<body>

    <header class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar bd-fix">

        <a class="navbar-brand mr-0 mr-md-2" href="/"><img src="/assets/logo.png" width="36" height="36" class="d-block" viewBox="0 0 612 612" role="img" focusable="false" /></a>

        <div class="navbar-nav-scroll">
            <ul class="navbar-nav bd-navbar-nav flex-row">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="http://samples.adaptivecardsblazor.com">Samples</a>
                    </li>
            </ul>
        </div>

        <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                <li class="nav-item">
                    <a class="nav-link p-2" href="https://adaptivecardsblazor.com" target="_blank" rel="noopener">Project Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link p-2" href="https://github.com/mikoskinen/Blazor.AdaptiveCards" target="_blank" rel="noopener">GitHub</a>
                </li>
        </ul>
    </header>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-md-3 col-xl-2 bd-sidebar">
                <button class="btn btn-link bd-search-docs-toggle d-md-none p-0 collapsed" type="button" data-toggle="collapse" data-target="#bd-docs-nav" aria-controls="bd-docs-nav" aria-expanded="false" aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button>
                <nav class="collapse bd-links" id="bd-docs-nav">
                        <div class="bd-toc-item active">
                            <a class="bd-toc-link" href="/index.html">
                                Home
                            </a>

                                <ul class="nav bd-sidenav">
                                        <li class="">
                                            <a href="/index.html">
                                                Welcome to Adaptive Cards for Blazor
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/gettingstarted.html">
                                                Getting Started
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/roadmap.html">
                                                Roadmap
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/releashistory.html">
                                                Release History
                                            </a>
                                        </li>
                                </ul>
                        </div>
                        <div class="bd-toc-item active">
                            <a class="bd-toc-link" href="/basic/quickstart.html">
                                Introduction
                            </a>

                                <ul class="nav bd-sidenav">
                                        <li class="">
                                            <a href="/basic/quickstart.html">
                                                Quick start
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/basic/introductiontoadaptivecards.html">
                                                Introduction to Adaptive Cards
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/basic/components.html">
                                                Components
                                            </a>
                                        </li>
                                </ul>
                        </div>
                        <div class="bd-toc-item active">
                            <a class="bd-toc-link" href="/actions/introduction.html">
                                Actions
                            </a>

                                <ul class="nav bd-sidenav">
                                        <li class="">
                                            <a href="/actions/introduction.html">
                                                Introduction to Actions
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/actions/openurl.html">
                                                OpenUrl
                                            </a>
                                        </li>
                                        <li class="active">
                                            <a href="/actions/submit.html">
                                                Submit
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/actions/showcard.html">
                                                ShowCard
                                            </a>
                                        </li>
                                </ul>
                        </div>
                        <div class="bd-toc-item active">
                            <a class="bd-toc-link" href="/templating/introduction.html">
                                Templating
                            </a>

                                <ul class="nav bd-sidenav">
                                        <li class="">
                                            <a href="/templating/introduction.html">
                                                Introduction to templating
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/templating/defaulttemplate.html">
                                                Default Template
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/templating/alternativetemplate.html">
                                                Alternative Template
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/templating/templateselector.html">
                                                Template Selector
                                            </a>
                                        </li>
                                </ul>
                        </div>
                        <div class="bd-toc-item active">
                            <a class="bd-toc-link" href="/cards/introduction.html">
                                Card Collections
                            </a>

                                <ul class="nav bd-sidenav">
                                        <li class="">
                                            <a href="/cards/introduction.html">
                                                Introduction to Card Collections
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/cards/layouts.html">
                                                Layouts
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/cards/actions.html">
                                                Handling actions
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/cards/templateselector.html">
                                                Template selector
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/cards/attributes.html">
                                                Attributes
                                            </a>
                                        </li>
                                </ul>
                        </div>
                        <div class="bd-toc-item active">
                            <a class="bd-toc-link" href="/advanced/events.html">
                                Advanced Topics
                            </a>

                                <ul class="nav bd-sidenav">
                                        <li class="">
                                            <a href="/advanced/events.html">
                                                Events
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/advanced/configuration.html">
                                                Configuration
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/advanced/animations.html">
                                                Animations
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="/advanced/performance.html">
                                                Performance tips
                                            </a>
                                        </li>
                                </ul>
                        </div>
                </nav>
            </div>

                <div class="d-none d-xl-block col-xl-2 bd-toc">
                    <ul class="section-nav">
                            <li class="toc-entry toc-h3"><a href="#onsubmitaction">OnSubmitAction</a></li>
                            <li class="toc-entry toc-h3"><a href="#submithandler">SubmitHandler</a></li>
                            <li class="toc-entry toc-h2"><a href="#card-with-multiple-submit-actions">Card with multiple submit actions</a></li>
                    </ul>
                </div>

            <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
                <h1 class="bd-title" id="content">Submit</h1>
                <p class="bd-lead"></p>
                <p>Submit actions are quite likely the most popular actions in Adaptive Cards. They allow you to gather some input from the user, like their name and address, and then to submit that data into your desired endpoint.</p>
<p>The <a href="https://adaptivecards.io/samples/Inputs.html">Inputs sample</a> at the Adaptive Cards' sample site gives a good representation of different input controls which are available through the schema.</p>
<p>Here's an example schema with a submit action:</p>
<pre><code class="line-numbers language-json">"body": [
  ...
],
"actions": [
  {
    "type": "Action.OpenUrl",
    "title": "Open Weather Service",
    "url": "https://weather.com"
  },
  {
    "type": "Action.ShowCard",
    "title": "Share...",
    "card": {
      "type": "AdaptiveCard",
      "body": [
        {
          "type": "TextBlock",
          "text": "Share with Email:"
        },
        {
          "type": "Input.Text",
          "id": "emailAddress",
          "placeholder": "user@email.com"
        }
      ],
      "actions": [
        {
          "type": "Action.Submit",
          "title": "Send Email"
        }
      ]
    }
  }
]
</code></pre>
<p>Adaptive Cards for Blazor offers two ways of handling the submitted data: Using the <strong>OnSubmitAction</strong> or the <strong>SubmitHandler</strong>.</p>
<h3 id="onsubmitaction">OnSubmitAction</h3>
<p>OnSubmitAction is an EventCallBack provided by AdaptiveCard-component. To handle the callback, define a method which takes SubmitEventArgs as a parameter:</p>
<pre><code class="line-numbers language-csharp">    private void OnSubmit(AdaptiveCards.Blazor.Actions.SubmitEventArgs eventArgs)
    {
        ...
    }
</code></pre>
<h3 id="submithandler">SubmitHandler</h3>
<p>With SubmitHandler you aren't limited to getting the submitted data through the SubmitEventArgs as you can take advantage of model binding. In it's simplest form, SubmitHandler requires that the handler contains a method called <strong>Submit</strong>:</p>
<pre><code class="line-numbers language-html">&lt;AdaptiveCard Schema="@Schemas.SimpleSubmit" SubmitHandler="this"&gt;&lt;/AdaptiveCard&gt;
@code {
    public Task Submit(AdaptiveCards.Blazor.Actions.SubmitEventArgs eventArgs)
    {
        ...

        StateHasChanged();
        return Task.CompletedTask;
    }
}
</code></pre>
<p>The model binding feature of SubmitHandler binds the input fields against the method parameters. Given the following schema:</p>
<pre><code class="line-numbers language-json">{
  "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
  "type": "AdaptiveCard",
  "version": "1.0",
  "body": [
    {
      "type": "ColumnSet",
      "columns": [
        {
          "type": "Column",
          "items": [
            {
              "type": "TextBlock",
              "text": "Your name",
              "wrap": true
            },
            {
              "type": "Input.Text",
              "id": "myName",
              "placeholder": "Last, First"
            },
            {
              "type": "TextBlock",
              "text": "Your email",
              "wrap": true
            },
            {
              "type": "Input.Text",
              "id": "myEmail",
              "placeholder": "youremail@example.com",
              "style": "email"
            }
          ]
        }
      ]
    }
  ],
  "actions": [
    {
      "type": "Action.Submit",
      "title": "Submit",
      "name": "MySubmit"
    }
  ]
}
</code></pre>
<p>The Submit-method can match parameters to the input fields using their id:</p>
<pre><code class="line-numbers language-html">&lt;AdaptiveCard Schema="@Schemas.SimpleSubmit" SubmitHandler="this"&gt;&lt;/AdaptiveCard&gt;
@code {
    public Task Submit(string myName, string myEmail)
    {
        ...

        StateHasChanged();
        return Task.CompletedTask;
    }
}
</code></pre>
<h2 id="card-with-multiple-submit-actions">Card with multiple submit actions</h2>
<p>An Adaptive Card can contain multiple submit actions by giving them unique <strong>name</strong>:</p>
<pre><code class="line-numbers language-json">  "actions": [
    {
      "type": "Action.Submit",
      "title": "Send",
      "name": "send"
    },
    {
      "type": "Action.Submit",
      "title": "Decline",
      "name": "decline"
    }
  ]
</code></pre>
<p>To handle multiple actions using OnSubmitAction, you can use SubmitEventArgs.Action. Here's an example where the code can differentiate between the two actions:</p>
<pre><code class="line-numbers language-html">&lt;AdaptiveCard Schema="@Schemas.SimpleSubmitAndDecline" OnSubmitAction="OnSubmitAndDecline"&gt;&lt;/AdaptiveCard&gt;

@code {
    private void OnSubmitAndDecline(AdaptiveCards.Blazor.Actions.SubmitEventArgs eventArgs)
    {
        if (eventArgs.Action == "send")
        {
            ...
        }
        else
        {
            ...
        }
    }
}
</code></pre>
<p>To handle multiple actions using SubmitHandler, define multiple methods and match the method names with the action names:</p>
<pre><code class="line-numbers language-html">&lt;AdaptiveCard Schema="@Schemas.SimpleSubmitAndDecline" SubmitHandler="this"&gt;&lt;/AdaptiveCard&gt;

@code {
    public Task Send(AdaptiveCards.Blazor.Actions.SubmitEventArgs eventArgs)
    {
        ...
        return Task.CompletedTask;
    }

    public Task Decline(AdaptiveCards.Blazor.Actions.SubmitEventArgs eventArgs)
    {
        ...
        return Task.CompletedTask;
    }
}
</code></pre>


                <div class="row">
                    <div class="col">
                            <a class="text-muted" href="/actions/openurl.html">Previous: OpenUrl</a>
                    </div>
                    <div class="col text-right">
                            <a class="text-muted" href="/actions/showcard.html">Next: ShowCard</a>
                    </div>
                </div>

            </main>

        </div>

        <div class="row">
            <div class="col-12">
                <footer class="bd-footer text-muted">
                    <div class="p-4">
                            <p>Copyright 2019 Mikael Koskinen</p>
                        <p>Documentation built with <a target="_blank" href="https://grazedocs.io">GrazeDocs</a>. <a target="_blank" href="https://getbootstrap.com/docs/4.3/assets/css/docs.min.css">"Bootstrap Docs"</a> theme by Twitter is licensed under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank" rel="license noopener">CC BY 3.0</a></p>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <script src="/assets/jquery-3.2.1.slim.min.js"></script>
    <script src="/assets/popper.min.js"></script>
    <script src="/assets/bootstrap.min.js"></script>
    <script src="/assets/prism.js"></script>
    <script src="/assets/simpleLightbox.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('.lightbox').simpleLightbox();
        });
    </script>
</body>
</html>
