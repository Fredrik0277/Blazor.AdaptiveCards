@using global::AdaptiveCards.Blazor.Actions

@page "/"
<div class="row">
    <div class="col-12">
        <h1>Adaptive Card</h1>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="adaptivecard">
            <AdaptiveCard Schema="@schema" @ref="card" OnCardSubmit="Submit"></AdaptiveCard>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
<textarea style="width:100%" rows="10" @bind="@schema"></textarea>
        <button @onclick="UpdateSchema" class="btn btn-primary">Update schema</button>
    </div>
</div>


@code {

    string schema = "";
    AdaptiveCard card = null;

    protected override async Task OnParametersSetAsync()
    {
        schema = await System.IO.File.ReadAllTextAsync("AdaptiveCard.json");
    }

    public async Task UpdateSchema()
    {
        await card.RenderCard(schema);
    }

    public async Task Submit(SubmitEventArgs data)
    {
    }

}