@page "/"

<h1>Adaptive Card</h1>

<AdaptiveCard Schema="@schema" @ref="card" OnCardSubmit="Submit"></AdaptiveCard>

<br/>

<textarea style="width:100%" rows="10" @bind="@schema"></textarea>
<button @onclick="UpdateSchema" class="btn btn-primary">Update schema</button>

@code {

    string schema = "";
    AdaptiveCard card = null;
    
    protected override async Task OnParametersSetAsync()
    {
        schema = await System.IO.File.ReadAllTextAsync("AdaptiveCard.json");
    }

    public async Task UpdateSchema()
    {
        await card.RenderCard(schema);
    }

    public async Task Submit((string, object) data)
    {
    }

}